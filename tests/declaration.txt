# vim: ft=python:
>>> from less import *
>>> from less.tree.declaration import *
>>> from less.tree.property import *
>>> from less.tree.variable import *
>>> from less.tree.keyword import *
>>> from less.tree.operator import *

>>> Color.from_digit(11386570) #doctest: +SKIP
>>> Declaration(
...     Property("text-align"),
...     Keyword("left")
... ).to_css()
'text-align: left;'

>>> definition = Declaration(
...     Variable("@foo"),
...     Measure(1, "px")
... ) #doctest: +SKIP
>>> definition.to_css() #doctest: +SKIP
None

>>> Declaration(
...     Property("font-size"),
...     Addition(
...         Measure(Numeric(1), "px"),
...         Measure(Numeric(2), "px")
...     )
... ).to_css()
'font-size: 3px;'

>>> Declaration(
...     Property("font-size"),
...     Addition(
...         Addition(
...             Measure(Numeric(1), "px"),
...             Measure(2, "px")
...         ),
...         Addition(
...             Measure(1, "px"),
...             Measure(2, "px")
...         )
...     )
... ).to_css()
'font-size: 6px;'

>>> Declaration(
...     Property("font-size"),
...     Addition(
...         Addition(
...             Addition(
...                 Measure(Numeric(1), "px"),
...                 Measure(2, "px")
...             ),
...             Addition(
...                 Measure(Numeric(1), "px"),
...                 Measure(2, "px")
...             )
...         ),
...         Addition(
...             Measure(1, "px"),
...             Measure(2, "px")
...         )
...     )
... ).to_css()
'font-size: 9px;'

>>> Declaration(
...     Property("font-size"),
...     Subtraction(
...         Measure(1, "px"),
...         Numeric(2)
...     )
... ).to_css()
'font-size: -1px;'

>>> Declaration(
...     Property("font-size"),
...     Subtraction(
...         Numeric(2),
...         Measure(1, "px")
...     )
... ).to_css()
'font-size: 1px;'

>>> Declaration(
...     Property("font-size"),
...     Subtraction(
...         Measure(2, "em"),
...         Measure(1, "px")
...     )
... ).to_css() #doctest: +ELLIPSIS
Traceback (most recent call last):
    ...
ArithmeticError: ...

>>> Declaration(
...     Property("left"),
...     Variable("@foo")
... ).to_css() #doctest: +SKIP
Traceback ...
UndefinedVariableError: ...

>>> Declaration(
...     Property("left"),
...     Variable("@foo"),
...     context=definition.context
... ).to_css() #doctest: +SKIP
'left: 1px;'

>>> Declaration(
...     Property("color"),
...     Addition(
...         Multiply(
...             Color("#ff0"),
...             Numeric(0.5),
...         ),
...         Color(123, 45, 2)
...     )
... ).to_css()
'color: #faac02;'

>>> Decralation(
...     Property("line-height"),
...     Multiply(
...         Measure(2, "px"),
...         Numeric(0.5)
...     )
... ).to_css()
'line-height: 1px;'

>>> Decralation(
...     Property("line-height"),
...     Multiply(
...         Measure(2, "px"),
...         Measure(0.5, "em")
...     )
... ).to_css() #doctest: +ELLIPSIS
Traceback ...
UncalculableError: ...

>>> Decralation(
...     Property("line-height"),
...     Multiply(
...         Measure(2, "px"),
...         Measure(50, "%")
...     )
... ).to_css()
'line-height: 1px;'

>>> Decralation(
...     Property("content"),
...     Expression(
...         String(" ("),
...         Keyword("attr(href)"),
...         String(")")
...     )
... ).to_css()
'content: " (" attr(href) ")";'

>>> Decralation(
...     Property("border"),
...     Expression(
...         Measure(1, "px"),
...         Keyword("solid"),
...         Color("#00f")
...     )
... ).to_css()
'border: 1px solid #00f;'

